import{j as e}from"./ui-C_BmRRy8.js";import{y as t,z as r}from"./icons-sb5RvF5O.js";import{f as s,i as a}from"./utils-CwAUyRUs.js";import{l as o}from"./index-Bn5au-xE.js";import{r as n}from"./vendor-Psgnp9ei.js";import{a as l,T as i,R as d}from"./constants-CdNJpgjE.js";function x({currentMonth:a,onPrevMonth:n,onNextMonth:l}){return e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:n,"aria-label":"Mês anterior",className:"p-3 rounded-xl border border-gray-200 hover:bg-gray-50 hover:border-gray-300 transition-all duration-200",children:e.jsx(t,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-xl font-bold text-gray-900 bg-gradient-to-r from-pink-500 to-pink-600 bg-clip-text text-transparent",children:s(a,"MMMM yyyy",{locale:o})}),e.jsx("button",{onClick:l,"aria-label":"Próximo mês",className:"p-3 rounded-xl border border-gray-200 hover:bg-gray-50 hover:border-gray-300 transition-all duration-200",children:e.jsx(r,{className:"w-5 h-5"})})]})}function c({days:t,currentMonth:r,eventsByDay:o,onSelectDate:x,dotColorBy:c="regional"}){const[m,g]=n.useState({show:!1,x:0,y:0,events:[],date:""}),h=()=>{g(e=>({...e,show:!1}))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-7 text-sm font-semibold text-gray-600 mb-3",children:["DOM","SEG","TER","QUA","QUI","SEX","SÁB"].map(t=>e.jsx("div",{className:"text-center py-2",children:t},t))}),e.jsxs("div",{className:"grid grid-cols-7 gap-2 relative",children:[t.map((t,n)=>{const d=t?s(t,"yyyy-MM-dd"):"",m=t?o[d]??[]:[];return e.jsx("button",{onClick:()=>t&&x(t),onMouseEnter:e=>t&&((e,t,r)=>{if(r.length>0){const a=e.currentTarget.getBoundingClientRect();g({show:!0,x:a.left+a.width/2,y:a.top-10,events:r,date:s(t,"dd/MM/yyyy")})}})(e,t,m),onMouseLeave:h,className:`aspect-square rounded-xl text-sm flex flex-col items-start justify-start p-2 border-2 transition-all duration-200 ${t?"border-gray-100 hover:bg-gradient-to-br hover:from-blue-50 hover:to-purple-50 hover:border-blue-200 hover:shadow-md hover:scale-105":"border-transparent"} ${t&&!a(t,r)?"text-gray-300":"text-gray-900"}`,"aria-label":t?`Dia ${s(t,"d")}, ${m.length} eventos`:"Dia vazio",children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm font-semibold mb-1",children:s(t,"d")}),e.jsxs("div",{className:"flex flex-wrap gap-1 w-full",children:[m.slice(0,3).map(t=>{const r=l[t.regional]||"bg-gray-400",s=i[t.tipo]||"bg-gray-400",a="type"===c?s:r;return e.jsx("div",{className:`w-2 h-2 rounded-full ${a}`},t.id)}),m.length>3&&e.jsxs("span",{className:"text-[10px] text-gray-500 font-medium",children:["+",m.length-3]})]})]}):""},n)}),m.show&&e.jsxs("div",{className:"absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-3 max-w-xs pointer-events-none",style:{left:`${m.x}px`,top:`${m.y}px`,transform:"translate(-50%, -100%)"},children:[e.jsxs("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:[m.date," - ",m.events.length," evento(s)"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.events.map(t=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${"type"===c?i[t.tipo]||"bg-gray-400":l[t.regional]||"bg-gray-400"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:t.titulo}),e.jsx("div",{className:"text-xs text-gray-500",children:d[t.regional]||t.regional}),t.horario&&e.jsx("div",{className:"text-xs text-gray-500",children:t.horario})]})]},t.id))})]})]})]})}export{x as C,c as M};
